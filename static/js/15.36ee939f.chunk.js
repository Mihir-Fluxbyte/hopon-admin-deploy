(this["webpackJsonp@devias/material-kit-pro-react"]=this["webpackJsonp@devias/material-kit-pro-react"]||[]).push([[15],{625:function(e,t,c){"use strict";c.d(t,"a",(function(){return O})),c.d(t,"b",(function(){return M}));var a=c(12),n=c(159),r=c(501),i=c(486),s=c(265),l=c(1e3),o=c(1006),j=c(500),u=c(505),d=c(509),b=c(507),x=c(508),h=c(0),v=c(1),O=function(e){var t,c,O,m,p,f,g=Object(h.useState)("details"),y=Object(a.a)(g,2),k=y[0],S=y[1];return Object(v.jsx)(n.a,{sx:{mt:3},children:Object(v.jsxs)(r.a,{children:[Object(v.jsx)(n.a,{sx:{display:"flex",flexDirection:"column",margin:"10px 10px 0px 10px"},children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"5px",padding:"5px"},children:[Object(v.jsx)(i.a,{sx:{height:"120px",width:"120px"},src:null===(t=e.customer)||void 0===t?void 0:t.profilePic}),Object(v.jsx)(s.a,{color:"textPrimary",sx:{ml:3,fontSize:"25px"},variant:"subtitle2",children:"".concat(null===(c=e.customer)||void 0===c?void 0:c.firstName," ").concat(null===(O=e.customer)||void 0===O?void 0:O.lastName)})]})}),Object(v.jsx)(l.a,{indicatorColor:"primary",onChange:function(e,t){S(t)},scrollButtons:"auto",textColor:"primary",value:k,variant:"scrollable",children:[{label:"Details",value:"details"}].map((function(e){return Object(v.jsx)(o.a,{label:e.label,children:e.value},e.value)}))}),Object(v.jsx)(j.a,{}),Object(v.jsx)(u.a,{children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(b.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textPrimary",variant:"subtitle2",children:"Email"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textSecondary",variant:"body2",children:null===(m=e.customer)||void 0===m?void 0:m.email})})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textPrimary",variant:"subtitle2",children:"Phone"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textSecondary",variant:"body2",children:null===(p=e.customer)||void 0===p?void 0:p.mobile})})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textPrimary",variant:"subtitle2",children:"Active Status"})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(s.a,{color:"textSecondary",variant:"body2",children:(null===(f=e.customer)||void 0===f?void 0:f.isActive)?"Active":"InActive"})})]})]})})]})})},m=c(15),p=c.n(m),f=c(20),g=c(19),y=c(30),k=c(23),S=c(503),C=c(476),w=c(504),A=c(266),P=c(506),B=c(510),N=c(477),I=c(121),U=c(92),W=c(84),D=c(89),E=c(186),L=c(31),R=c(35),z=c(32),F=c(125),H=c(469),J=[{label:"All",value:"all"},{label:"Blocked",value:"block"},{label:"Unblocked",value:"unblock"}],M=function(e){var t,c,s=e.customers,l=Object(h.useState)(0),o=Object(a.a)(l,2),O=o[0],m=o[1],M=Object(h.useState)(5),T=Object(a.a)(M,2),Y=T[0],_=T[1],q=Object(h.useState)(""),G=Object(a.a)(q,2),K=G[0],Q=G[1],V=Object(h.useState)({}),X=Object(a.a)(V,2),Z=X[0],$=X[1],ee=Object(h.useState)(),te=Object(a.a)(ee,2),ce=te[0],ae=te[1],ne=Object(h.useState)(!1),re=Object(a.a)(ne,2),ie=re[0],se=re[1],le=Object(z.b)(),oe=function(){var e=Object(f.a)(p.a.mark((function e(){var t,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,le(R.a.increment()),e.next=4,Object(E.b)({userId:ce,isBlocked:!(null===(t=s[ce])||void 0===t?void 0:t.isActive)});case 4:e.sent,le(F.a.setCustomerBlockStatus({userId:ce,isBlocked:!(null===(c=s[ce])||void 0===c?void 0:c.isActive)})),L.b.success("".concat((null===(a=s[ce])||void 0===a?void 0:a.isActive)?"User Blocked Successfully":"User UnBlocked Successfully")),se(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L.b.error(e.t0.response.data.message);case 13:return e.prev=13,le(R.a.decrement()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.c)();case 3:t=e.sent,le(F.a.getUser(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),L.b.error("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ue=function(e,t,c){return e.filter((function(e){var a=!0;if(t){var n=!1;["email","firstName","lastName","mobile"].forEach((function(c){var a=e[c].toString();a&&a.toLowerCase().includes(t.toLowerCase())&&(n=!0)})),n||(a=!1)}var r=e.isActive?"unblock":"block";return c.status&&c.status!==r&&(a=!1),a}))}(Object.values(s),K,Z),de=function(e,t,c){return e.slice(t*c,t*c+c)}(ue,O,Y);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(r.a,{children:[Object(v.jsx)(S.a,{title:"Customers"}),Object(v.jsx)(j.a,{}),Object(v.jsxs)(n.a,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,p:2},children:[Object(v.jsx)(n.a,{sx:{m:1,maxWidth:"100%",width:400},children:Object(v.jsx)(C.a,{fullWidth:!0,InputProps:{startAdornment:Object(v.jsx)(w.a,{position:"start",children:Object(v.jsx)(I.a,{fontSize:"small"})})},onChange:function(e){Q(e.target.value)},placeholder:"Search customers",value:K,variant:"outlined"})}),Object(v.jsx)(n.a,{sx:{m:1,maxWidth:"100%",width:240},children:Object(v.jsx)(C.a,{fullWidth:!0,label:"Customer Status",name:"status",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),$((function(e){return Object(g.a)(Object(g.a)({},e),{},{status:t})}))},select:!0,SelectProps:{native:!0},value:Z.status||"all",variant:"outlined",children:J.map((function(e){return Object(v.jsx)("option",{value:e.value,children:e.label},e.value)}))})}),Object(v.jsx)(n.a,{style:{marginLeft:"auto"},children:Object(v.jsx)(A.a,{onClick:function(){je()},children:Object(v.jsx)(H.a,{})})})]}),Object(v.jsx)(W.a,{children:Object(v.jsx)(n.a,{sx:{minWidth:700},children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(P.a,{children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(x.a,{children:"Name"}),Object(v.jsx)(x.a,{children:"Email"}),Object(v.jsx)(x.a,{children:"Contact Number"}),Object(v.jsx)(x.a,{align:"right",children:"Actions"})]})}),Object(v.jsx)(d.a,{children:0===de.length?Object(v.jsx)(x.a,{align:"center",colSpan:"100%",children:"No Records Found"}):de.map((function(e){return Object(v.jsxs)(b.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsxs)(n.a,{sx:{alignItems:"center",display:"flex"},children:[Object(v.jsx)(i.a,{src:null===e||void 0===e?void 0:e.profilePic,sx:{height:42,width:42},children:Object(U.a)(null===e||void 0===e?void 0:e.firstName)}),Object(v.jsx)(n.a,{sx:{ml:1},children:Object(v.jsx)(B.a,{color:"inherit",component:y.b,to:"/".concat(k.b.RIDER_DETAILS.replace(":id",null===e||void 0===e?void 0:e.id)),variant:"subtitle2",children:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)})})]})}),Object(v.jsx)(x.a,{children:null===e||void 0===e?void 0:e.email}),Object(v.jsx)(x.a,{children:null===e||void 0===e?void 0:e.mobile}),Object(v.jsx)(x.a,{align:"right",children:Object(v.jsx)(A.a,{onClick:function(){var t;t=null===e||void 0===e?void 0:e.id,ae(t),se(!0)},children:(null===e||void 0===e?void 0:e.isActive)?"Block":"UnBlock"})})]},null===e||void 0===e?void 0:e.id)}))})]})})}),Object(v.jsx)(N.a,{component:"div",count:ue.length,onPageChange:function(e,t){m(t)},onRowsPerPageChange:function(e){_(parseInt(e.target.value,10))},page:O,rowsPerPage:Y,rowsPerPageOptions:[5,10,25]})]}),Object(v.jsx)(D.a,{open:ie,handleClose:function(){se(!1)},handleConfirm:oe,title:"".concat((null===(t=s[ce])||void 0===t?void 0:t.isActive)?"Block User":"UnBlock User"),description:"".concat((null===(c=s[ce])||void 0===c?void 0:c.isActive)?"Are you sure you want to block this user ?":"Are you sure you want to unblock user ?"),cancleButtonName:"No",confirmButtonName:"Yes"})]})}},987:function(e,t,c){"use strict";c.r(t);var a=c(30),n=c(70),r=c(159),i=c(402),s=c(487),l=c(265),o=c(481),j=c(510),u=c(625),d=c(86),b=c(85),x=c(32),h=c(1);t.default=function(){var e=Object(b.a)().settings,t=Object(x.c)((function(e){return e.UData.users}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n.a,{children:Object(h.jsx)("title",{children:"Customers | Hopon Admin"})}),Object(h.jsx)(r.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:8},children:Object(h.jsxs)(i.a,{maxWidth:!!e.compact&&"xl",children:[Object(h.jsx)(s.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(h.jsxs)(s.a,{item:!0,children:[Object(h.jsx)(l.a,{color:"textPrimary",variant:"h5",children:"Customers"}),Object(h.jsxs)(o.a,{"aria-label":"breadcrumb",separator:Object(h.jsx)(d.a,{fontSize:"small"}),sx:{mt:1},children:[Object(h.jsx)(j.a,{color:"textPrimary",component:a.b,to:"/riders",variant:"subtitle2",children:"Customer Management"}),Object(h.jsx)(l.a,{color:"textSecondary",variant:"subtitle2",children:"Customers"})]})]})}),Object(h.jsx)(r.a,{sx:{mt:3},children:Object(h.jsx)(u.b,{customers:t})})]})})]})}}}]);
//# sourceMappingURL=15.36ee939f.chunk.js.map