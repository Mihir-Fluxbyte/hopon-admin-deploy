(this["webpackJsonp@devias/material-kit-pro-react"]=this["webpackJsonp@devias/material-kit-pro-react"]||[]).push([[24],{998:function(e,t,a){"use strict";a.r(t);var n=a(30),c=a(70),r=a(159),l=a(402),i=a(487),s=a(265),o=a(481),j=a(510),b=a(19),d=a(52),u=(a(521),a(501)),x=a(503),O=(a(500),a(505)),h=a(506),p=a(507),v=a(508),m=a(509),f=a(84),g=a(1),k=a(483),w=a(266),S=a(28),T=Object(S.a)(Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Check"),C=Object(S.a)(Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash"),P=Object(S.a)(Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(g.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"X"),I=function(e){var t=e.onDelete,a=e.onMarkPaid,n=e.onMarkUnpaid,c=e.open,l=e.selected,o=Object(d.a)(e,["onDelete","onMarkPaid","onMarkUnpaid","open","selected"]);return Object(g.jsx)(k.a,{anchor:"bottom",open:c,PaperProps:{elevation:1},variant:"persistent",children:Object(g.jsx)(r.a,Object(b.a)(Object(b.a)({sx:{p:2}},o),{},{children:Object(g.jsxs)(i.a,{alignItems:"center",container:!0,spacing:2,children:[Object(g.jsx)(i.a,{item:!0,md:3,sx:{display:{md:"block",xs:"none"}},children:Object(g.jsxs)(s.a,{color:"textSecondary",variant:"subtitle1",children:[l.length," selected"]})}),Object(g.jsx)(i.a,{item:!0,md:6,xs:12,children:Object(g.jsxs)(r.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center","& > * + *":{ml:2}},children:[Object(g.jsx)(w.a,{color:"primary",onClick:a,startIcon:Object(g.jsx)(T,{fontSize:"small"}),variant:"text",children:"Mark Paid"}),Object(g.jsx)(w.a,{color:"primary",onClick:n,startIcon:Object(g.jsx)(P,{fontSize:"small"}),variant:"text",children:"Mark Unpaid"}),Object(g.jsx)(w.a,{color:"primary",onClick:t,startIcon:Object(g.jsx)(C,{fontSize:"small"}),variant:"text",children:"Delete"})]})})]})}))})};I.defaultProps={open:!1};var y=a(15),L=a.n(y),A=a(20),D=a(12),M=a(0),z=a(476),R=a(504),E=a(477),W=a(188),F=a(23),H=a(121),K=a(993),U=function(e){var t=e.cb,a=Object(M.useState)([null,null]),n=Object(D.a)(a,2),c=n[0],l=n[1];return Object(g.jsx)(K.a,{startText:"From",endText:"To",value:c,onChange:function(e){!function(e){l(e),t&&t(e)}(e)},renderInput:function(e,t){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(z.a,Object(b.a)(Object(b.a)({},e),{},{helperText:null})),Object(g.jsx)(r.a,{sx:{mx:2},children:" to "}),Object(g.jsx)(z.a,Object(b.a)(Object(b.a)({},t),{},{helperText:null}))]})}})},_=a(469),B=a(129),V=a(190),J=a(32),N=a(31),X=[{label:"All",value:"all"},{label:"Pending",value:"1"},{label:"Resolved",value:"2"}],q=function(e){var t={all:{color:"none",text:"All"},1:{color:"error",text:"Pending"},2:{color:"success",text:"Resolved"}}[e],a=t.text,n=t.color;return Object(g.jsx)(W.a,{color:n,children:a})},G=function(e){var t=e.tickets,a=Object(J.b)(),c=Object(M.useState)(0),l=Object(D.a)(c,2),i=l[0],s=l[1],o=Object(M.useState)(""),d=Object(D.a)(o,2),k=d[0],S=d[1],T=Object(M.useState)(5),C=Object(D.a)(T,2),P=C[0],I=C[1],y=Object(M.useState)({status:null}),W=Object(D.a)(y,2),K=W[0],G=W[1],Q=Object(M.useState)([null,null]),Y=Object(D.a)(Q,2),Z=Y[0],$=Y[1],ee=function(){var e=Object(A.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(V.a)();case 3:t=e.sent,a(B.a.getTicket(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N.b.error("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),te=function(e,t,a){return e.filter((function(e){var n=!0;if(t){var c=!1;["subject"].forEach((function(a){var n=e[a].toString();n&&n.toLowerCase().includes(t.toLowerCase())&&(c=!0)})),c||(n=!1)}return a.status&&e.ticketStatus!=a.status&&(n=!1),n}))}(Object.values(t),k,K),ae=function(e,t,a){return e.slice(t*a,t*a+a)}(function(e,t,a){return t&&a?e.filter((function(e){var n=new Date(e.createdAt);return n>=t&&n<=a})):e}(te,Z[0],Z[1]),i,P);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(u.a,{children:[Object(g.jsx)(x.a,{title:"Tickets"}),Object(g.jsxs)(r.a,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,p:2},children:[Object(g.jsx)(r.a,{sx:{m:1,maxWidth:"100%",width:400},children:Object(g.jsx)(z.a,{fullWidth:!0,InputProps:{startAdornment:Object(g.jsx)(R.a,{position:"start",children:Object(g.jsx)(H.a,{fontSize:"small"})})},onChange:function(e){S(e.target.value)},placeholder:"Search Ticket",value:k,variant:"outlined"})}),Object(g.jsx)(r.a,{sx:{m:1,maxWidth:"100%",width:200},children:Object(g.jsx)(z.a,{fullWidth:!0,label:"Status",name:"status",onChange:function(e){var t=null;"all"!==e.target.value&&(t=e.target.value),G((function(e){return Object(b.a)(Object(b.a)({},e),{},{status:t})}))},select:!0,SelectProps:{native:!0},value:K.status,variant:"outlined",children:X.map((function(e){return Object(g.jsx)("option",{value:e.value,children:e.label},e.value)}))})}),Object(g.jsx)(U,{cb:function(e){$(e)}}),Object(g.jsx)(r.a,{style:{marginLeft:"auto"},children:Object(g.jsx)(w.a,{onClick:function(){ee()},children:Object(g.jsx)(_.a,{})})})]}),Object(g.jsx)(f.a,{children:Object(g.jsx)(r.a,{children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(h.a,{children:Object(g.jsxs)(p.a,{children:[Object(g.jsx)(v.a,{children:"Id"}),Object(g.jsx)(v.a,{children:"Trip Id"}),Object(g.jsx)(v.a,{children:"Subject"}),Object(g.jsx)(v.a,{children:"Status"})]})}),Object(g.jsx)(m.a,{children:0===ae.length?Object(g.jsx)(v.a,{align:"center",colSpan:"100%",children:"No Records Found"}):ae.map((function(e){var t;new Date(Date.UTC(e.createdAt));return Object(g.jsxs)(p.a,{component:n.b,to:"/".concat(F.b.TICKET_DETAILS.replace(":id",e.id)),sx:{textDecoration:"none"},children:[Object(g.jsx)(v.a,{children:Object(g.jsx)(j.a,{color:"textPrimary",component:n.b,to:"/".concat(F.b.TICKET_DETAILS.replace(":id",e.id)),underline:"none",variant:"subtitle2",children:e.id})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(j.a,{color:"textPrimary",component:n.b,to:"/".concat(F.b.TICKET_DETAILS.replace(":id",e.id)),underline:"none",variant:"subtitle2",children:null!==(t=null===e||void 0===e?void 0:e.refId)&&void 0!==t?t:"-"})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(j.a,{color:"textPrimary",component:n.b,to:"/".concat(F.b.TICKET_DETAILS.replace(":id",e.id)),underline:"none",variant:"subtitle2",children:e.subject})}),Object(g.jsx)(v.a,{children:q(e.ticketStatus)})]},e.id)}))})]})})}),Object(g.jsx)(E.a,{component:"div",count:te.length,onPageChange:function(e,t){s(t)},onRowsPerPageChange:function(e){I(parseInt(e.target.value,10))},page:i,rowsPerPage:P,rowsPerPageOptions:[5,10,25]})]})})},Q=(a(259),a(85)),Y=a(86);t.default=function(){var e=Object(Q.a)().settings,t=Object(J.c)((function(e){return e.ticket.ticket}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c.a,{children:Object(g.jsx)("title",{children:"Ticket | Hopon Admin"})}),Object(g.jsx)(r.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:8},children:Object(g.jsxs)(l.a,{maxWidth:!!e.compact&&"xl",children:[Object(g.jsx)(i.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(g.jsxs)(i.a,{item:!0,children:[Object(g.jsx)(s.a,{color:"textPrimary",variant:"h5",children:"Tickets"}),Object(g.jsxs)(o.a,{"aria-label":"breadcrumb",separator:Object(g.jsx)(Y.a,{fontSize:"small"}),sx:{mt:1},children:[Object(g.jsx)(j.a,{color:"textPrimary",component:n.b,to:"/tickets",variant:"subtitle2",children:"Ticket Management"}),Object(g.jsx)(s.a,{color:"textSecondary",variant:"subtitle2",children:"Tickets"})]})]})}),Object(g.jsx)(r.a,{sx:{mt:3},children:Object(g.jsx)(G,{tickets:t})})]})})]})}}}]);
//# sourceMappingURL=24.da6781b4.chunk.js.map